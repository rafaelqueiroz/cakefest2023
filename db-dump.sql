PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE `phinxlog` (`version` BIGINTEGER NOT NULL, `migration_name` VARCHAR(100) NULL, `start_time` TIMESTAMP_TEXT NULL, `end_time` TIMESTAMP_TEXT NULL, `breakpoint` BOOLEAN_INTEGER NOT NULL DEFAULT 0, PRIMARY KEY (`version`));
INSERT INTO phinxlog VALUES(20230823094757,'Init','2023-09-25 23:13:46','2023-09-25 23:13:46',0);
CREATE TABLE `files` (`id` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, `group_id` INTEGER NOT NULL, `name` VARCHAR(255) NOT NULL, `type` VARCHAR(255) NOT NULL, `path` VARCHAR(255) NOT NULL, `metadata` JSON_TEXT NULL, `created` TIMESTAMP_TEXT(6,6) NOT NULL, `modified` TIMESTAMP_TEXT(6,6) NOT NULL);
CREATE TABLE `groups` (`id` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, `name` VARCHAR(255) NOT NULL, `created` TIMESTAMP_TEXT(6,6) NOT NULL, `modified` TIMESTAMP_TEXT(6,6) NOT NULL);
CREATE TABLE `groups_users` (`id` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, `group_id` INTEGER NOT NULL, `user_id` INTEGER NOT NULL, `role` VARCHAR(255) NOT NULL DEFAULT 'user');
CREATE TABLE `tagged` (`id` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, `table_alias` VARCHAR(255) NOT NULL, `foreign_key` INTEGER NOT NULL, `tag_id` INTEGER NOT NULL, `created` TIMESTAMP_TEXT(6,6) NOT NULL, `modified` TIMESTAMP_TEXT(6,6) NOT NULL);
CREATE TABLE `tags` (`id` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, `name` VARCHAR(255) NOT NULL, `occurrence` INTEGER NOT NULL, `created` TIMESTAMP_TEXT(6,6) NOT NULL, `modified` TIMESTAMP_TEXT(6,6) NOT NULL);
CREATE TABLE `users` (`id` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, `first_name` VARCHAR(255) NULL, `last_name` VARCHAR(255) NULL, `email` VARCHAR(255) NULL, `password` VARCHAR(255) NOT NULL, `active` BOOLEAN_INTEGER NOT NULL DEFAULT 0, `created` TIMESTAMP_TEXT(6,6) NOT NULL, `modified` TIMESTAMP_TEXT(6,6) NOT NULL);
DELETE FROM sqlite_sequence;
COMMIT;
